server:
  port: 8080

spring:
  application:
    name: leorces
  threads:
    virtual:
      enabled: true
  datasource:
    url: jdbc:postgresql://localhost:5432/leorces
    username: leorces
    password: admin123
    hikari:
      maximum-pool-size: 15
      minimum-idle: 20
      idle-timeout: 30000
      max-lifetime: 1800000
      connection-timeout: 30000
      leak-detection-threshold: 20000
  cache:
    type: caffeine
  jackson:
    serialization:
      FAIL_ON_EMPTY_BEANS: false

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always

leorces:
  extension:
    camunda:
      bpmn-path: bpmn
  processes:
    OrderSubmittedProcess:
      activities:
        notification:
          retries: 3
          timeout: 30m
    OrderFulfillmentProcess:
      activity-retries: 3
      activity-timeout: 10m
  jobs:
    compaction:
      enabled: true
      batch-size: 2000
      cron: 0 0 0 * * *
      max-jobs: 2
  metrics:
    enabled: true

logging:
  level:
    com.leorces.engine: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
