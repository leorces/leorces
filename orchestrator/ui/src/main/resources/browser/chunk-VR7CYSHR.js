import{a as m}from"./chunk-G5V2YYDH.js";import{a as f}from"./chunk-CHVBI4FO.js";import"./chunk-2DE5BC62.js";import"./chunk-YVYARSZY.js";import{A as a,B as c,G as p,J as l,R as d,f as r,o,pa as u,s as i,x as n}from"./chunk-B4JCPXUQ.js";function h(t,e){if(t&1&&l(0,"app-bpmn-viewer",0),t&2){let s=d();p("process",s.process())}}var g=class t{process=i(null);loading=i(!1);error=i(null);refreshSubscription;processService=o(m);route=o(u);ngOnInit(){this.loadProcess(),this.refreshSubscription=r(1e3).subscribe(()=>{let e=this.process();(e&&e.state==="ACTIVE"||e?.state==="INCIDENT")&&this.loadProcess()})}ngOnDestroy(){this.refreshSubscription?.unsubscribe()}loadProcess(){this.loading.set(!0);let e=this.route.snapshot.paramMap.get("id");if(!e){this.loading.set(!1),this.error.set("Definition ID not found in URL");return}this.processService.findById(e).subscribe({next:s=>{this.loading.set(!1),this.process.set(s)},error:s=>{this.loading.set(!1),this.error.set("Failed to load definitions. Please try again later...")}})}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=n({type:t,selectors:[["app-process-details"]],decls:1,vars:1,consts:[[3,"process"]],template:function(s,v){s&1&&a(0,h,1,1,"app-bpmn-viewer",0),s&2&&c(v.process()!==null?0:-1)},dependencies:[f],encapsulation:2})};export{g as ProcessDetails};
